- name: file title
  give: |
    - [foo](foo.md)
  files:
    foo.md: "# Hello"
  want: |
    - [foo](#hello)

    # Hello

- name: nested item
  give: |
    - [foo](foo.md)
    - [bar](bar.md)
      - [baz](baz.md)
  files:
    foo.md: "# Foo"
    bar.md: "# Bar"
    baz.md: "# Baz"
  want: |
    - [foo](#foo)
    - [bar](#bar)
      - [baz](#baz)

    # Foo

    # Bar

    ## Baz

- name: section title
  give: |
    # Foo

    - [bar](bar.md)
  files:
    bar.md: "# Bar"
  want: |
    # Foo

    - [bar](#bar)

    ## Bar

- name: section title deeper
  give: |
    ### Foo

    - [bar](bar.md)
  files:
    bar.md: "# Bar"
  want: |
    ### Foo

    - [bar](#bar)

    #### Bar

- name: group
  give: |
    - Items
      - [foo](foo.md)
      - [bar](bar.md)
  files:
    foo.md: "# Foo"
    bar.md: "# Bar"
  want: |
    - [Items](#items)
      - [foo](#foo)
      - [bar](#bar)

    # Items

    ## Foo

    ## Bar

- name: cross-linking
  give: |
    - [foo](foo.md)
    - [baz](bar/baz.md)
  files:
    foo.md: |
      # Foo

      Stuff happens here.
      See also [Baz](bar/baz.md)
    bar/baz.md: |
      # Baz

      Relates to [Foo](../foo.md).
  want: |
    - [foo](#foo)
    - [baz](#baz)

    # Foo

    Stuff happens here.
    See also [Baz](#baz)

    # Baz

    Relates to [Foo](#foo).

- name: header linking
  give: |
    - [foo](foo.md)
    - [bar](bar.md)
  files:
    foo.md: |
      # Foo

      ## What is Foo?

      Foo relates to [Bar](bar.md).
      Read more about setting up Bar
      [here](bar.md#setup).
    bar.md: |
      # Bar

      Bar is a follow up to [Foo](foo.md).
      Don't know what Foo is?
      See [What is Foo?](foo.md#what-is-foo).

      ## Setup

      Set up Bar with these steps.
  want: |
    - [foo](#foo)
    - [bar](#bar)

    # Foo

    ## What is Foo?

    Foo relates to [Bar](#bar).
    Read more about setting up Bar
    [here](#setup).

    # Bar

    Bar is a follow up to [Foo](#foo).
    Don't know what Foo is?
    See [What is Foo?](#what-is-foo).

    ## Setup

    Set up Bar with these steps.

- name: header collisions
  give: |
    - [foo](foo.md)
    - [bar](bar.md)
  files:
    foo.md: |
      # Foo

      ## Setup

      See also [setting up bar](bar.md#setup).
    bar.md: |
      # Bar

      ## Setup

      See also [setting up foo](foo.md#setup).
  want: |
    - [foo](#foo)
    - [bar](#bar)

    # Foo

    ## Setup

    See also [setting up bar](#setup-1).

    # Bar

    ## Setup

    See also [setting up foo](#setup).

- name: multiple sections
  give: |
    # User Guide

    - [Getting Started](start.md)
    - [Installation](install.md)

    # Appendix

    - [FAQ](faq.md)
  files:
    start.md: |
      # Getting Started

      Take the following steps to get started.
    install.md: |
      # Installation

      To install from source, run the following command.
    faq.md: |
      # Frequently Asked Questions

      ## How to do a thing?

      To do a thing, start by doing it.
  want: |
    # User Guide

    - [Getting Started](#getting-started)
    - [Installation](#installation)

    ## Getting Started

    Take the following steps to get started.

    ## Installation

    To install from source, run the following command.


    # Appendix

    - [FAQ](#frequently-asked-questions)


    ## Frequently Asked Questions

    ### How to do a thing?

    To do a thing, start by doing it.
